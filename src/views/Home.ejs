<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="author" content="Thiago Duarte Miranda Dias" />
  <link rel="stylesheet" href="/css/Home.css" />
  <link rel="shortcut icon" href="assets/utilites/logo.svg" type="image/x-icon" />
  <link rel="stylesheet" href="/css/header.css" />
  <link rel="stylesheet" href="/css/sideBar.css" />
  <link rel="stylesheet" href="/css/principal-area.css" />
  <link rel="stylesheet" href="/css/register-area.css" />
  <link rel="stylesheet" href="/css/animations.css" />
  <link rel="stylesheet" href="/css/more-infos.css" />
  <link rel="stylesheet" href="/css/search.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <title>Lead Nexus</title>
</head>

<body>

  <!-- REGISTER-AREA --> 
  
  <div class="register">
    <div class="close">
      <img src="/utilites/close.svg" alt="fechar" />
    </div>
    <fieldset id="register-area" class="register-area">

      <form id="form-body" action="/home/create/" method="POST">
        <div class="simple">
          <div class="new-lead-img">
            <img src="/utilites/user.png" alt="" />
          </div>
          <div class="inputs">
            <input name="name" required id="nome" type="text" placeholder="Nome" />
            <img src="/utilites/nameicon.svg" alt="" />
            <small id="avisoName" style="color: rgb(213, 100, 100); font-weight: bold"></small>
          </div>
          <div class="inputs">
            <input name="tel" id="tel" type="tel" placeholder="Telefone" />
            <img src="/utilites/tellicon.svg" alt="" />
            <small id="avisoTell" style="color: rgb(213, 100, 100); font-weight: bold"></small>
          </div>
          <div class="inputs">
            <input name="email" id="mail" type="email" placeholder="E-mail" />
            <img src="/utilites/email-icon.svg" alt="" />
            <small id="avisoEmail" style="color: rgb(213, 100, 100); font-weight: bold"></small>
          </div>
          <select required name="typeLead" id="type_lead">
            <option value="Não Informado" disabled selected>
              Tipo de Lead
            </option>
            <option value="Cliente">Cliente</option>
            <option value="Fornecedor">Fornecedor</option>
          </select>
        </div>
        
        <!-- AREA DE INFORMAÇÕES DE LOCAL -->

        <div class="lead-local-infos">
          <div class="title-area">
            <h2>Localização</h2>
            <img src="/utilites/location.svg" alt="" />
          </div>
          <select required name="uf" id="uf">
            <option value="Disable" disabled selected>
              Selecione Estado
            </option>
          </select>
          <select required name="city" id="cidade">
            <option value="Disable" disabled selected>
              Selecione a Cidade
            </option>
          </select>
          <input required id="date" min="" max="" name="date" type="datetime-local" />
        </div> 

        <!-- AREA DE MATERIAIS -->
        
        <div class="material-area-info">
          <div class="title-area">
            <h2>Material</h2>
            <img src="/utilites/material.svg" alt="" />
          </div>
          <select name="material" id="material" required>
            <option value="Disable" disabled selected>
              Escolha a Modalidade
            </option>
            <% categories.forEach(category=> { %>
                <option value="<%= category.name  %>">
                  <%= category.name %> 

               </option>
            <% }) %>
          </select>
          <select name="typeOfMaterial" id="TipoDeMaterial" required>
            <option value="Disable" disabled selected>
              Escolha o Tipo de Material
            </option>
          </select>
          <select name="process" id="Processo" required>
            <option value="Disable" disabled selected>
              Escolha o Tipo de Processo
            </option>
            <%allProcess.forEach(process=>{ %> 
              <option value="<%=process.process%>">
                <%=process.process%> 
              </option>
            <% })  %>
          </select>
          <select name="colaborator" required id="responsavel">
            <option selected disabled value="disable">
              Selecione o Responsável
            </option>
            <% allUsers.forEach(users=>{ %>
              <option value=<%=`${users.nome}` %> >
                <%= users.nome %>
              </option>
              <% }) %>

          </select>
        </div>
        <button type="submit" id="register-btn">Cadastrar</button>
      </form>
    </fieldset>
  </div>

  <main id="content" class="content">
    <header class="cabecalho">
      <div class="notification-area">
        <div class="notification-img">
          <img src="/utilites/notifications-icon]].svg" alt="" />
        </div>
        <div class="notification-text">Notificações</div>
        <div class="number-of-notifications">4</div>
      </div>
      <div class="user-dados">
        <div class="user-name">
          <p class="Username">Olá, <span class="name-user">
              <%= user.nome %>
            </span></p>
        </div>
        <a href="/settings/index/">
          <img id="user-foto" class="user-foto" src="/utilites/user-photo.png" alt="" />
        </a>
      </div>
    </header>
    <div class="slidebar">
      <div class="logo">
        <img src="/utilites/logo.svg" alt="LOGO" />
      </div>
      <ul class="links-bar">
        <li>
          <a href="/dashboard/index/"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="black"
              class="bi bi-grid-1x2" viewBox="0 0 16 16">
              <path
                d="M6 1H1v14h5zm9 0h-5v5h5zm0 9v5h-5v-5zM0 1a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1zm9 0a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1zm1 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z" />
            </svg></a>
        </li>
        <li>
          <a href="/crm/index/"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="black"
              class="bi bi-heart" viewBox="0 0 16 16">
              <path
                d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15" />
            </svg></a>
        </li>
        <li>
          <a href="/home/index/"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="black"
              class="bi bi-person-fill-check" viewBox="0 0 16 16">
              <path
                d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
              <path
                d="M2 13c0 1 1 1 1 1h5.256A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1 1.544-3.393Q8.844 9.002 8 9c-5 0-6 3-6 4" />
            </svg></a>
        </li>
        <li>
          <button id="new-Lead">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="black" class="bi bi-person-plus"
              viewBox="0 0 16 16">
              <path
                d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z" />
              <path fill-rule="evenodd"
                d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5" />
            </svg>
          </button>
        </li>
        <li>
          <a href="/product/index/">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="black" class="bi bi-hexagon"
              viewBox="0 0 16 16">
              <path
                d="M14 4.577v6.846L8 15l-6-3.577V4.577L8 1zM8.5.134a1 1 0 0 0-1 0l-6 3.577a1 1 0 0 0-.5.866v6.846a1 1 0 0 0 .5.866l6 3.577a1 1 0 0 0 1 0l6-3.577a1 1 0 0 0 .5-.866V4.577a1 1 0 0 0-.5-.866z" />
            </svg>
          </a>
        </li>

        <li id="sentings">
          <a href="/settings/index/">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="black" class="bi bi-gear"
              viewBox="0 0 16 16">
              <path
                d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0" />
              <path
                d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z" />
            </svg>
          </a>
        </li>
        <li id="exit">
          <a href="/home/index/logout">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="black" class="bi bi-unindent"
              viewBox="0 0 16 16">
              <path fill-rule="evenodd"
                d="M13 8a.5.5 0 0 0-.5-.5H5.707l2.147-2.146a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L5.707 8.5H12.5A.5.5 0 0 0 13 8" />
              <path fill-rule="evenodd" d="M3.5 4a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 1 0v-7a.5.5 0 0 0-.5-.5" />
            </svg>
          </a>
        </li>
      </ul>
    </div>
    <main class="dash">
      <% if(allLeads.length> 0) { %>
        <section class="leads-area w-100">
          <table class="table">
            <thead class="table-light">
              <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>Telefone</th>
                <th>E-mail</th>
                <th> Tipo </th>
                <th>Material</th>
                <th>Responsável</th>
                <th>
                  Ações
                </th>
              </tr>
            </thead>

            <% let i=0 ; %>
              <% allLeads.forEach((lead)=> { %>
                <% i++ %>
                  <tr id="lead-" <% i %> >
                    <td>
                      <%= i %>
                    </td>
                    <td id="nome-lead">
                      <div class="lead-img">
                        <img src="/utilites/user.png" alt="">
                      </div>
                      <%= lead.name %>
                    </td>
                    <td>
                      <%= lead.tel %>
                    </td>
                    <td>
                      <%= lead.email %>
                    </td>
                    <td>
                      <%= lead.material %>
                    </td>
                    <td>
                      <%= lead.typeOfMaterial %>
                    </td>
                    <td>
                      <%= lead.colaborator %>
                    </td>

                    <td class="d-flex">
                      <a href="/home/edit/<%=lead._id %>">
                        <button type="button" class="btn btn-dark s,"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                            height="16" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
                            <path
                              d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z" />
                          </svg></button>
                      </a>
                     <a href="/home/delete/<%= lead._id %>">
                        <button type="button" class="btn btn-danger mx-1"><svg xmlns="http://www.w3.org/2000/svg"
                            width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                            <path
                              d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z" />
                            <path
                              d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z" />
                          </svg>
                        </button>
                      </a>
                  </td>
                  </tr>
              <% }); %>
          </table>
        </section>
        <% }else { %>
          <div class="alert alert-warning text-center position-fixed" role="alert">
            Nenhuma Lead cadastrada. 
          </div>
        <% } %>
    </main>
  </main>
  <button id="new-Lead">
    <img src="/utilites/create.svg" alt="criar" />
  </button>
  <div class="search">
    <button id="button-search" class="button-seach">
      <img src="/utilites/search.svg" alt="" />
    </button>
    <input id="Search-bar" placeholder="Pesquisar..." type="search" class="Barra-de-Pesquisa" />
  </div>
  <!-- SCRIPTS-->
  <script src="/js/Jquery/code.jquery.com_jquery-3.7.1.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.js"
    integrity="sha512-0XDfGxFliYJPFrideYOoxdgNIvrwGTLnmK20xZbCAvPfLGQMzHUsaqZK8ZoH+luXGRxTrS46+Aq400nCnAT0/w=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script type="module" src="/js/Home.js"></script>
  <script src="/js/HomeAnimations.js"></script>
</body>

</html>